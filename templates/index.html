<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mapa Parcelas</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="/static/css/styles.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>

<div class="container">
  <h1>Mapa de Parcelas TL 🗺️</h1>
  <div id="toast" class="toast"></div>
  <div class="controls">
    <input type="text" id="partidaInput" placeholder="Ingrese partida...">
    <div id="toastPartida"></div>
    <button onclick="buscarPartida()">🔎 Buscar</button>
    <button id="btnBuscarDesc">📋 Buscar por Descripción</button>
    <button onclick="borrarResaltado(); borrarRuta();">🗑️ Borrar búsqueda</button>
  </div>
  <div id="modalDesc" class="modal">
    <div class="modal-content">
      <span class="close">x</span>
      <h3>📋 Partidas con Descripciones</h3>
      <div class="filtro-container">
        <input type="text" id="filtroTabla" placeholder="🔍 Buscar por descripción o partida...">
      </div>
      <table id="tablaDescripciones">
        <thead>
          <tr>
            <th>Partida</th>
            <th>Descripción</th>
          </tr>
        </thead>
        <tbody>
          <!-- filas dinámicas -->
        </tbody>
      </table>
    </div>
  </div><div id="modalSuperficie" class="modal">
  <div class="modal-content">
    <span class="close-superficie">&times;</span>
    <h3>Pintar parcelas por superficie</h3>
    
    <label>Superficie mínima (ha):</label>
    <input type="number" id="superficieMin" placeholder="Ej: 1">
    
    <label>Superficie máxima (ha):</label>
    <input type="number" id="superficieMax" placeholder="Ej: 10">
    
    <label>Color:</label>
    <input type="color" id="colorSuperficie" value="#ff0000">
    
    <button id="aplicarSuperficie">Aplicar</button>
    <button id="resetSuperficie">Reset</button>
  </div>
</div>
<div id="map-container">
<div id="map"></div>

<!-- Botón flotante -->
<div id="toolbox-button">⚙️</div>

<!-- Panel lateral con acordeón -->
<div id="toolbox-panel">
  <h3>Herramientas</h3>

  <!-- Herramienta: pintar por superficie -->
  <button class="accordion">🎨 Pintar por superficie</button>
  <div class="panel">
    <label>Superficie mínima (ha):</label>
    <input type="number" id="minArea" placeholder="Ej. 10">

    <label>Superficie máxima (ha):</label>
    <input type="number" id="maxArea" placeholder="Ej. 50">

    <label>Color:</label>
    <input type="color" id="surfaceColor" value="#ff0000">

    <div class="buttons">
      <button onclick="applySurfaceColor()">Aplicar</button>
      <button onclick="resetSurfaceColor()">Reset</button>
    </div>
  </div>

  <!-- Otra herramienta (ejemplo futuro) -->
  <button class="accordion">🛠️ Otra herramienta</button>
  <div class="panel">
    <p>Contenido para la próxima funcionalidad.</p>
  </div>
</div>
</div>
<script src="/static/js/mapa.js"></script>
</body>
</html>
